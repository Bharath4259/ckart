<html>
	<head>
	
		<title> CryptoCurrencyKart </title>
		
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		
		
	</head>
	
	<body>
		
		<div class="container">
			<center> 
				
				CryptoCurrencyKart
				
				<div class="container">
					<div class="row">
						<table class="table-responsive table">
							<thead><tr> <th>Name</th> <th>Currency Code</th> <th>Market Cap</th> <th>Price</th> <th>Supply</th> <th>24 Hour Volume </th> </tr></thead>
							<tbody id="tbody">
								
							</tbody>
						</table>
					</div>
				</div>
			</center>
			
			<div id="resut">
				
			</div>
			
		</div>
			
	</body>	
	<script>
		
		
		$( document ).ready(function() {
			loadData();
			setInterval(function(){
				console.log("--> 5 sec");
				loadData() // this will run after every 5 seconds
			}, 5000);
		});
		
		function loadData(){
			$.getJSON("http://coincap.io/front", function(result){
				//console.log(result);
				$("#tbody").empty();
				$.each(result, function(i, field){
					//console.log(i+ "   --->   " + field.long);
					//var image_url = "color/"+(field.short).toLowerCase()+".png";
					
					$("#tbody").append("<tr><td>"+ "<img src=\"color/"+(field.short).toLowerCase()+".png\" height=20px width =20px onerror=\"this.src='alt.png';\"/> &nbsp;&nbsp;" +field.long+"</td><td>"+field.short+"</td><td>$ "+field.mktcap+"</td><td>$ "+field.price+"</td><td>"+field.supply+"</td><td>$ "+field.usdVolume+"</td></tr>");
					
				});
			});
		}
	
	</script>
	
	
</html>